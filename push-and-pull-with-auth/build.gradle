import de.gesellix.gradle.docker.tasks.DockerPullTask
import de.gesellix.gradle.docker.tasks.DockerPushTask

ext {
  // fallback to index.docker.io
  registryHostname = null
  // fallback to ~/.dockercfg
  dockerCfgFilename = null
}

task pushImageToPrivateRepo(type: DockerPushTask) {
  repositoryName = "gesellix/private-repo"
  authConfigPlain = getDockerClient().readAuthConfig(registryHostname, dockerCfgFilename)
}

task pullImageFromRemoteServer(type: DockerPullTask) {
  imageName = "gesellix/private-repo"
  tag = "latest"
  authConfigPlain = getDockerClient().readDefaultAuthConfig()
}
